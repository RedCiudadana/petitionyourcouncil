{% extends 'base.html' %}

{% block title %}'{{ q }}' search results{% endblock %}

{% block content %}

<h2>Councils for '{{ q }}'</h2>

{% for council in object_list %}
    <p>
        <a href="{% url core.views.council slug=council.slug %}">{{ council.name }}</a>
    </p>
{% empty %}
    <p>
        No councils were found for '{{ q }}' - is it a valid postcode or the
        name of a council?
    </p>
{% endfor %}

<form action="{% url core.views.search %}">
    <input id="search_query" type="text" name="q" value="{{ q }}" />
    <input type="submit" value="Search again" />
</form>

{% endblock %}


{% block set_map_bounds %}
    {% if bounds %}
    <script type="text/javascript" charset="utf-8">

        pyc.set_map_bounds(
            {{ bounds.north }},
            {{ bounds.east  }},
            {{ bounds.south }},
            {{ bounds.west  }}
        );

        {% for id in kml_ids %}
            pyc.add_council_by_mapit_id( {{ id }} );
        {% endfor %}

    </script>
    {% else %}
        {{ block.super }}
    {% endif %}
{% endblock %}
